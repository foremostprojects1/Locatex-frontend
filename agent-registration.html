<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agent Registration</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/skins/default.css" id="style_sheet">
</head>
<body>

  <!-- Top header start -->
  <header class="top-header top-header-bg none-992" id="top-header-2">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 col-md-8 col-sm-7">
          <div class="list-inline">
            <a href="tel:1-8X0-666-8X88"><i class="fa fa-phone"></i>Need Support? 1-8X0-666-8X88</a>
            <a href="tel:info@themevessel.com"><i class="fa fa-envelope"></i>info@themevessel.com</a>
          </div>
        </div>
        <div class="col-lg-6 col-md-4 col-sm-5">
          <ul class="top-social-media pull-right">
            <li>
              <a href="login.html" class="sign-in"><i class="fa fa-sign-in"></i> Login</a>
            </li>
            <li>
              <a href="signup.html" class="sign-in"><i class="fa fa-user"></i> Register</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <!-- Main header start -->
  <header class="main-header">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand logos" href="index.html">
          <img src="img/logos/logo.png" alt="logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav header-ml">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Index
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li><a class="dropdown-item" href="index.html">Index 1</a></li>
                <li><a class="dropdown-item" href="index-2.html">Index 2</a></li>
                <li><a class="dropdown-item" href="index-3.html">Index 3</a></li>
                <li><a class="dropdown-item" href="index-4.html">Index 4</a></li>
                <li><a class="dropdown-item" href="index-5.html">Index 5</a></li>
                <li><a class="dropdown-item" href="index-6.html">Index 6</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown active">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Agents
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li><a class="dropdown-item" href="agent-list.html">Agent List 1</a></li>
                <li><a class="dropdown-item" href="agent-list-2.html">Agent List 2</a></li>
                <li><a class="dropdown-item" href="agent-grid.html">Agent Grid 1</a></li>
                <li><a class="dropdown-item" href="agent-grid-2.html">Agent Grid 2</a></li>
                <li><a class="dropdown-item" href="agent-detail.html">Agent Detail</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown megamenu-li">
              <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Pages</a>
              <div class="dropdown-menu megamenu" aria-labelledby="navbarDropdownMenuLink4">
                <div class="megamenu-area">
                  <div class="row">
                    <div class="col-sm-6 col-lg-3">
                      <div class="megamenu-section">
                        <h6 class="megamenu-title">Pages</h6>
                        <a class="dropdown-item" href="about.html">About 1</a>
                        <a class="dropdown-item" href="about-2.html">About 2</a>
                        <a class="dropdown-item" href="services.html">Services 1</a>
                        <a class="dropdown-item" href="services-2.html">Services 2</a>
                        <a class="dropdown-item" href="properties-list-rightside.html">Properties List</a>
                        <a class="dropdown-item" href="properties-grid-rightside.html">Properties Grid</a>
                        <a class="dropdown-item" href="properties-map-full.html">Properties Map</a>
                        <a class="dropdown-item" href="search-brand.html">Properties Brands</a>
                      </div>
                    </div>
                    <div class="col-sm-6 col-lg-3">
                      <div class="megamenu-section">
                        <h6 class="megamenu-title">Pages</h6>
                        <a class="dropdown-item" href="pricing-tables.html">Pricing Tables 1</a>
                        <a class="dropdown-item" href="pricing-tables-2.html">Pricing Tables 2</a>
                        <a class="dropdown-item" href="pricing-tables-3.html">Pricing Tables 3</a>
                        <a class="dropdown-item" href="gallery.html">Gallery 1</a>
                        <a class="dropdown-item" href="gallery-2.html">Gallery 2</a>
                        <a class="dropdown-item" href="typography.html">Typography 1</a>
                        <a class="dropdown-item" href="typography-2.html">Typography 2</a>
                        <a class="dropdown-item" href="coming-soon.html">Coming Soon</a>
                        <a class="dropdown-item" href="elements.html">Elements</a>
                      </div>
                    </div>
                    <div class="col-sm-6 col-lg-3">
                      <div class="megamenu-section">
                        <h6 class="megamenu-title">Pages</h6>
                        <a class="dropdown-item" href="contact.html">Contact 1</a>
                        <a class="dropdown-item" href="contact-2.html">Contact 2</a>
                        <a class="dropdown-item" href="contact-3.html">Contact 3</a>
                        <a class="dropdown-item" href="faq.html">Faq 1</a>
                        <a class="dropdown-item" href="faq-2.html">Faq 2</a>
                        <a class="dropdown-item" href="icon.html">Icon</a>
                        <a class="dropdown-item" href="404.html">Error Page</a>
                        <a class="dropdown-item" href="404-2.html">Error Page 2</a>
                      </div>
                    </div>
                    <div class="col-sm-6 col-lg-3">
                      <div class="megamenu-section">
                        <h6 class="megamenu-title">Pages</h6>
                        <a class="dropdown-item" href="my-profile.html">My profile</a>
                        <a class="dropdown-item" href="my-properties.html">My Properties</a>
                        <a class="dropdown-item" href="favorited-properties.html">Favorited Properties</a>
                        <a class="dropdown-item" href="agent-registration.html">Agent Registration</a>
                        <a class="dropdown-item" href="login.html">Login</a>
                        <a class="dropdown-item" href="signup.html">Register</a>
                        <a class="dropdown-item" href="change-password.html">Change Password</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink5" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Blog
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Classic</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="blog-classic-sidebar-right.html">Right Sidebar</a></li>
                    <li><a class="dropdown-item" href="blog-classic-sidebar-left.html">Left Sidebar</a></li>
                    <li><a class="dropdown-item" href="blog-classic-fullwidth.html">FullWidth</a></li>
                  </ul>
                </li>
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Columns</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="blog-columns-2col.html">2 Columns</a></li>
                    <li><a class="dropdown-item" href="blog-columns-3col.html">3 Columns</a></li>
                  </ul>
                </li>
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Blog Details</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="blog-single-sidebar-right.html">Right Sidebar</a></li>
                    <li><a class="dropdown-item" href="blog-single-sidebar-left.html">Left Sidebar</a></li>
                    <li><a class="dropdown-item" href="blog-single-fullwidth.html">Fullwidth</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a href="submit-property.html" class="nav-link link-btn">Submit Property</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <!-- Sub banner start -->
  <div class="sub-banner">
    <div class="container">
      <div class="page-name">
        <h1>Agent Registration</h1>
        <ul>
          <li><a href="index.html">Index</a></li>
          <li><span>/</span>Agent Registration</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="fullscreenLoader" style="display:none;position:fixed;inset:0;background:rgba(255,255,255,.85);z-index:99999;align-items:center;justify-content:center;flex-direction:column;">
    <div class="spinner-border text-primary" role="status" style="width:3rem;height:3rem;"></div>
    <div style="margin-top:10px;color:#000;">Submitting your request...</div>
  </div>

  <div class="submit-property content-area" style="padding:40px 0;">
    <div class="container">
      <div class="main-title">
        <h1>Apply to become an Agent</h1>
        <p>Fill in your professional details. Your request will be sent to admin for approval.</p>
      </div>

      <form id="agentRegistrationForm" enctype="multipart/form-data">
        <div class="row">
          <div class="col-lg-8">
            <div class="row">
              <div class="col-md-6"><div class="form-group"><label>Professional Title</label><input id="title" class="form-control" required></div></div>
              <div class="col-md-6"><div class="form-group"><label>Full Name</label><input id="name" class="form-control" required></div></div>
              <div class="col-md-12"><div class="form-group"><label>Address</label><input id="address" class="form-control" placeholder="Start typing your address" required></div></div>
              <div class="col-md-6"><div class="form-group"><label>Email</label><input id="email" type="email" class="form-control" required></div></div>
              <div class="col-md-6"><div class="form-group"><label>Mobile</label><input id="phone" class="form-control" required></div></div>
              <div class="col-md-6"><div class="form-group"><label>Fax (optional)</label><input id="fax" class="form-control"></div></div>
              <div class="col-md-6"><div class="form-group"><label>Website (optional)</label><input id="website" type="url" class="form-control"></div></div>
              <div class="col-md-12">
                <div class="form-group">
                  <label for="bio">Biography</label>
                  <textarea id="bio" class="form-control" rows="6" placeholder="Tell us about your experience and expertise" required></textarea>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label for="experience">Years of Experience</label>
                  <input type="number" class="form-control" id="experience" placeholder="0" min="0">
                </div>
              </div>

              <div class="col-md-12">
                <div class="form-group">
                  <label for="specialties">Specialties (comma-separated)</label>
                  <input type="text" class="form-control" id="specialties" placeholder="e.g., Residential, Commercial, Luxury">
                </div>
              </div>
              <div class="col-md-12">
                <div class="form-group">
                  <label for="languages">Languages (comma-separated)</label>
                  <input type="text" class="form-control" id="languages" placeholder="e.g., English, Spanish, Hindi">
                </div>
              </div>

              <div class="col-md-12">
                <h5>Company Information</h5>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="companyName">Company Name</label>
                  <input type="text" class="form-control" id="companyName" placeholder="Company name">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="companyPhone">Company Phone</label>
                  <input type="text" class="form-control" id="companyPhone" placeholder="Company phone number">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="companyWebsite">Company Website</label>
                  <input type="url" class="form-control" id="companyWebsite" placeholder="https://company.com">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="responseTime">Response Time</label>
                  <select class="form-control" id="responseTime">
                    <option value="within 24 hours">Within 24 hours</option>
                    <option value="within 4 hours">Within 4 hours</option>
                    <option value="within 2 hours">Within 2 hours</option>
                    <option value="within 1 hour">Within 1 hour</option>
                  </select>
                </div>
              </div>

              <div class="col-md-12">
                <div class="form-group">
                  <label for="companyAddress">Company Address</label>
                  <input type="text" class="form-control" id="companyAddress" placeholder="Start typing company address" required>
                </div>
              </div>

              <div class="col-md-12">
                <h5>Social Media Links</h5>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="facebook">Facebook URL</label>
                  <input type="url" class="form-control" id="facebook" placeholder="https://facebook.com/yourprofile">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="twitter">Twitter URL</label>
                  <input type="url" class="form-control" id="twitter" placeholder="https://twitter.com/yourhandle">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="instagram">Instagram URL</label>
                  <input type="url" class="form-control" id="instagram" placeholder="https://instagram.com/yourhandle">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="linkedin">LinkedIn URL</label>
                  <input type="url" class="form-control" id="linkedin" placeholder="https://linkedin.com/in/yourprofile">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="youtube">YouTube URL</label>
                  <input type="url" class="form-control" id="youtube" placeholder="https://youtube.com/channel/...">
                </div>
              </div>
              <div class="col-md-12"><div class="form-group"><label>Profile Photo</label><input id="avatar" type="file" accept="image/*" class="form-control" required></div></div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="sidebar-right">
              <div class="contact-2">
                <h3 class="sidebar-title">Submit Request</h3>
                <div class="s-border"></div><div class="m-border"></div>
                <div class="form-group">
                  <button id="submitAgentBtn" type="submit" class="btn btn-md button-theme btn-block">
                    <span id="submitText">Send for Approval</span>
                    <span id="submitLoader" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display:none;"></span>
                  </button>
                </div>
                <div id="formMessage" class="alert" role="alert" style="display:none;"></div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script>
  (function(){
    var API_BASE = 'http://localhost:5000';
    var form = document.getElementById('agentRegistrationForm');
    function showMsg(type, text){ var box=document.getElementById('formMessage'); box.className='alert alert-'+type; box.textContent=text; box.style.display='block'; }
    form.addEventListener('submit', function(e){
      e.preventDefault();
      var token = localStorage.getItem('auth_token') || localStorage.getItem('token');
      if(!token){ alert('Please login first.'); window.location.href='login.html'; return; }
      document.getElementById('fullscreenLoader').style.display='flex';
      document.getElementById('submitAgentBtn').disabled=true; document.getElementById('submitText').style.display='none'; document.getElementById('submitLoader').style.display='inline-block';
      var fd = new FormData();
      fd.append('title', document.getElementById('title').value);
      fd.append('name', document.getElementById('name').value);
      fd.append('address', document.getElementById('address').value);
      fd.append('email', document.getElementById('email').value);
      fd.append('phone', document.getElementById('phone').value);
      var fax=document.getElementById('fax').value; if(fax) fd.append('fax', fax);
      var website=document.getElementById('website').value; if(website) fd.append('website', website);
      fd.append('bio', document.getElementById('bio').value);
      var experience=document.getElementById('experience').value; if(experience) fd.append('experience', experience);
      var specialties=document.getElementById('specialties').value; if(specialties){
        var specArr = specialties.split(',').map(function(s){ return s.trim(); }).filter(function(s){ return s.length; });
        fd.append('specialties', JSON.stringify(specArr));
      }
      var languages=document.getElementById('languages').value; if(languages){
        var langArr = languages.split(',').map(function(l){ return l.trim(); }).filter(function(l){ return l.length; });
        fd.append('languages', JSON.stringify(langArr));
      }
      var companyName=document.getElementById('companyName').value; if(companyName) fd.append('companyName', companyName);
      var companyPhone=document.getElementById('companyPhone').value; if(companyPhone) fd.append('companyPhone', companyPhone);
      var companyWebsite=document.getElementById('companyWebsite').value; if(companyWebsite) fd.append('companyWebsite', companyWebsite);
      fd.append('companyAddress', document.getElementById('companyAddress').value);
      fd.append('responseTime', document.getElementById('responseTime').value);
      var socialMedia = {
        facebook: document.getElementById('facebook').value,
        twitter: document.getElementById('twitter').value,
        instagram: document.getElementById('instagram').value,
        linkedin: document.getElementById('linkedin').value,
        youtube: document.getElementById('youtube').value
      };
      fd.append('socialMedia', new Blob([JSON.stringify(socialMedia)], { type: 'application/json'}));
      var avatar = document.getElementById('avatar').files[0]; if(avatar) fd.append('avatar', avatar);
      fetch(API_BASE + '/api/agents/registration-request', { method:'POST', headers:{ Authorization: 'Bearer ' + token }, body: fd })
        .then(function(r){ return r.json().catch(function(){ return { status:'error', message:'Invalid JSON' } }) })
        .then(function(res){
          if(res && (res.status==='success' || res.success)){
            showMsg('success','Your agent request has been submitted. Admin will review it shortly.');
            form.reset();
          } else {
            showMsg('danger', (res && (res.message||res.error)) || 'Failed to submit request');
          }
        })
        .catch(function(err){ showMsg('danger', 'Network error: '+ err); })
        .finally(function(){
          document.getElementById('fullscreenLoader').style.display='none';
          document.getElementById('submitAgentBtn').disabled=false; document.getElementById('submitText').style.display='inline'; document.getElementById('submitLoader').style.display='none';
        });
    });
  })();
  </script>

  <script src="js/jquery-2.2.0.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <!-- Footer start -->
  <footer class="footer">
    <div class="container footer-inner">
      <div class="row">
        <div class="col-xl-4 col-lg-3 col-md-6 col-sm-6">
          <div class="footer-item">
            <h4>Contact Us</h4>
            <ul class="contact-info">
              <li>360 Harvest St, North Subract, London. United States Of Amrica.</li>
              <li><a href="mailto:sales@hotelempire.com">info@themevessel.com</a></li>
              <li><a href="tel:+55-417-634-7071">+1 347-465-0659</a></li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
          <div class="footer-item">
            <h4>Properties Types</h4>
            <ul class="links">
              <li><a>Apartment</a></li>
              <li><a>Restaurant</a></li>
              <li><a>My Houses</a></li>
              <li><a>Villa & Condo</a></li>
              <li><a>Family House</a></li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
          <div class="footer-item">
            <h4>Quick Links</h4>
            <ul class="links">
              <li><a>About Us</a></li>
              <li><a>Services</a></li>
              <li><a>Properties Details</a></li>
              <li><a>My Account</a></li>
              <li><a>Privacy Policy</a></li>
            </ul>
          </div>
        </div>
        <div class="col-xl-4 col-lg-3 col-md-6 col-sm-6">
          <div class="footer-item clearfix">
            <h4>Subscribe</h4>
            <div class="subscribe-box-2">
              <form class="form-inline" action="#" method="GET">
                <input type="text" class="form-control mb-sm-0" id="inlineFormInputName4" placeholder="Your Email">
                <button type="submit" class="btn"><i class="fa fa-paper-plane"></i></button>
              </form>
            </div>
            <ul class="social-list clearfix">
              <li><a href="#" class="facebook-bg"><i class="fa fa-facebook"></i></a></li>
              <li><a href="#" class="twitter-bg"><i class="fa fa-twitter"></i></a></li>
              <li><a href="#" class="google-bg"><i class="fa fa-google-plus"></i></a></li>
              <li><a href="#" class="linkedin-bg"><i class="fa fa-linkedin"></i></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>
